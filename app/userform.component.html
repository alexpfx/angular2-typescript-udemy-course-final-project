<form [ngFormModel]="userForm"
      (ngSubmit)="onSubmit()"
      #f="ngForm">

    <fieldset>
        <legend>{{mode}} User</legend>

        <div class="form-group">
            <label for="name"> Name</label>
            <input type="text"
                   class="form-control"
                   id="name"
                   ngControl="name"
                   [(ngModel)]="user.name"
                   #name="ngForm"
                   placeholder="Name"

            >

        </div>
        <div class="alert alert-danger"
             *ngIf="name.touched && name.errors"> Nome não informado
        </div>

        <div class="form-group">
            <label for="email"> Email</label>
            <input type="email"
                   class="form-control"
                   id="email"
                   [(ngModel)]="user.email"
                   ngControl="email"
                   #email="ngForm"
                   placeholder="Email">
        </div>
        <div *ngIf="email.errors">
            <div class="alert alert-danger"
                 *ngIf="email.touched && email.errors.required"> Email não informado
            </div>
            <div class="alert alert-danger"
                 *ngIf="email.touched && email.errors.shouldBeValid"> Email invalido
            </div>
        </div>

        <div class="form-group">
            <label for="phone"> Phone</label>
            <input type="phone"
                   class="form-control"
                   id="phone"
                   placeholder="Phone"
                   ngControl="phone"
                   [(ngModel)]="user.phone"

            >
        </div>
    </fieldset>

    <fieldset ngControlGroup="address">
        <legend> Address</legend>
        <div class="form-group">
            <label for="street">Street</label>
            <input type="text"
                   class="form-control"
                   id="street"
                   placeholder="Street"
                   ngControl="street"
                   [(ngModel)]="user.address.street"
            >
        </div>

        <div class="form-group">
            <label for="suite">Suite</label>
            <input type="text"
                   class="form-control"
                   id="suite"
                   placeholder="Suite"
                   ngControl="suite"
                   [(ngModel)]="user.address.suite"
            >
        </div>

        <div class="form-group">
            <label for="city">City</label>
            <input type="text"
                   class="form-control"
                   id="city"
                   placeholder="City"
                   ngControl="city"
                   [(ngModel)]="user.address.city"
            >
        </div>

        <div class="form-group">
            <label for="zipCode">Zip Code</label>
            <input type="text"
                   class="form-control"
                   id="zipCode"
                   placeholder="Zip Code"
                   ngControl="zipCode"
                   [(ngModel)]="user.address.zipCode"
            >
        </div>


    </fieldset>


    <button class="btn btn-primary"
            type="submit"
            [disabled]="!f.valid">Submit
    </button>

</form>